@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&family=IBM+Plex+Sans:wght@400;500;600;700&family=Orbitron:wght@500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Root dark theme - slate blue variant */
  :root {
    --color-space-deep: #0d1526;
    --color-terminal-glow: rgba(77, 195, 255, 0.3);
    --scrollbar-thumb: #324668;
    --scrollbar-track: #152036;
  }

  /* Base body styling */
  html {
    @apply antialiased;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-space-deep text-text-primary font-sans;
    background-image:
      linear-gradient(rgba(77, 195, 255, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(77, 195, 255, 0.03) 1px, transparent 1px);
    background-size: 32px 32px;
    background-attachment: fixed;
  }

  /* Custom selection */
  ::selection {
    @apply bg-terminal-500/40 text-text-primary;
  }

  /* Custom scrollbar - mission control style */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-space-900;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-space-500 rounded-sm;
    border: 1px solid rgba(77, 195, 255, 0.1);
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-terminal-700;
    box-shadow: 0 0 8px rgba(77, 195, 255, 0.3);
  }

  ::-webkit-scrollbar-corner {
    @apply bg-space-900;
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
  }

  /* Focus ring for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-terminal-400/50 ring-offset-2 ring-offset-space-deep;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Mission control panel base */
  .panel {
    @apply bg-space-800 border border-border rounded-lg shadow-panel;
    @apply transition-all duration-300;
  }

  .panel-elevated {
    @apply bg-space-700 border border-border-emphasis rounded-lg shadow-panel-lg;
  }

  .panel-interactive {
    @apply panel hover:border-terminal-300/50 hover:shadow-glow;
    @apply cursor-pointer;
  }

  /* Terminal-style input */
  .input-terminal {
    @apply w-full px-4 py-3 bg-space-700 border border-border rounded-lg;
    @apply text-text-primary placeholder-text-tertiary;
    @apply shadow-terminal-input;
    @apply focus:border-terminal-400 focus:ring-2 focus:ring-terminal-400/30 focus:shadow-glow;
    @apply transition-all duration-200;
  }

  /* Primary button with glow */
  .btn-primary {
    @apply px-6 py-3 bg-terminal-500 hover:bg-terminal-600 active:bg-terminal-700;
    @apply text-white font-semibold rounded-lg;
    @apply shadow-glow hover:shadow-glow-lg;
    @apply disabled:bg-space-600 disabled:text-text-tertiary disabled:shadow-none disabled:cursor-not-allowed;
    @apply transition-all duration-300;
  }

  /* Ghost button */
  .btn-ghost {
    @apply px-4 py-2 bg-transparent border border-border rounded-lg;
    @apply text-text-secondary hover:text-text-primary;
    @apply hover:border-terminal-400/50 hover:bg-space-700;
    @apply transition-all duration-200;
  }

  /* Status badge base */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded;
    @apply text-xs font-semibold uppercase tracking-wider;
    @apply border;
  }

  /* Risk level badges */
  .badge-critical {
    @apply badge bg-risk-critical-bg border-risk-critical-border text-risk-critical-text;
    @apply shadow-glow-critical;
  }

  .badge-high {
    @apply badge bg-risk-high-bg border-risk-high-border text-risk-high-text;
  }

  .badge-medium {
    @apply badge bg-risk-medium-bg border-risk-medium-border text-risk-medium-text;
  }

  .badge-low {
    @apply badge bg-risk-low-bg border-risk-low-border text-risk-low-text;
  }

  /* Status badges */
  .badge-success {
    @apply badge bg-status-success-bg border-status-success-border text-status-success-text;
  }

  .badge-failed {
    @apply badge bg-status-failed-bg border-status-failed-border text-status-failed-text;
  }

  .badge-pending {
    @apply badge bg-status-pending-bg border-status-pending-border text-status-pending-text;
  }

  .badge-canceled {
    @apply badge bg-status-canceled-bg border-status-canceled-border text-status-canceled-text;
  }

  /* Display heading style */
  .heading-display {
    @apply font-display font-bold uppercase tracking-wide;
    @apply text-text-primary;
    text-shadow: 0 0 30px rgba(77, 195, 255, 0.3);
  }

  /* Data/mono text with terminal tint */
  .text-data {
    @apply font-mono text-text-mono;
  }

  /* Glow text effect */
  .text-glow {
    text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
  }

  /* Table row hover */
  .table-row-hover {
    @apply hover:bg-space-700/50 transition-colors duration-150;
  }

  /* Alert box styles */
  .alert-info {
    @apply border-l-4 border-terminal-400 bg-terminal-900/30 rounded-r-lg p-4;
    @apply shadow-glow-sm;
  }

  .alert-critical {
    @apply border-l-4 border-risk-critical-glow bg-risk-critical-bg/50 rounded-r-lg p-4;
    @apply shadow-glow-critical;
  }
}

@layer utilities {
  /* Text shadow utilities */
  .text-shadow-glow {
    text-shadow: 0 0 20px rgba(77, 195, 255, 0.5);
  }

  .text-shadow-critical {
    text-shadow: 0 0 15px rgba(255, 23, 68, 0.5);
  }

  /* Gradient text */
  .text-gradient-terminal {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #4dc3ff 0%, #00a8ff 50%, #80d4ff 100%);
  }

  /* Corner cut effect for panels */
  .corner-cut {
    clip-path: polygon(
      0 8px, 8px 0,
      calc(100% - 8px) 0, 100% 8px,
      100% calc(100% - 8px), calc(100% - 8px) 100%,
      8px 100%, 0 calc(100% - 8px)
    );
  }

  /* Subtle noise texture overlay */
  .noise-overlay {
    position: relative;
  }

  .noise-overlay::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
    pointer-events: none;
    opacity: 0.4;
    mix-blend-mode: overlay;
  }

  /* Scan line effect */
  .scan-lines {
    position: relative;
    overflow: hidden;
  }

  .scan-lines::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 4px
    );
    pointer-events: none;
  }

  /* Accordion collapse/expand utilities */
  .accordion-content {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.3s ease-out;
  }

  .accordion-content.expanded {
    grid-template-rows: 1fr;
  }

  .accordion-inner {
    overflow: hidden;
    min-height: 0;
  }
}
